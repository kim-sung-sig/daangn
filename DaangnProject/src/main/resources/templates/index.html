<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8" />
	<title>한줄 메모장</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<!-- Axios 사용 -->
	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<style>
		table { width: 1200px; margin: auto; padding: 5px; border: none; }
		td, th { padding: 5px; border: 1px solid gray; text-align: center;}
		th { background-color: silver;}
		.main_title { font-size: 18pt; border: none; text-align: center;}
		.sub_title { border: none; text-align: right;}
	</style>	
	<script type="text/javascript">
		$(function(){

			navigator.geolocation.getCurrentPosition((position) => {
				console.log("경도")
				console.log(position.coords.latitude);
				console.log("위도")
				console.log(position.coords.longitude);
			});
			
		});
	</script>
</head>
<body>
	<form action="/" method="get">
		<input type="text" placeholder="검색어 입력!" name="search">
	</form>
	<table>
		<tr>
			<td colspan="5" class="main_title"> 한줄 메모장 Ver 0.9</td>
		</tr>
		<tr>
			<td colspan="5" class="sub_title"> [[${pv.pageInfo}]]</td>
		</tr>
		<tr>
			<th>No</th>
			<th>제목</th>
			<th style="width: 60%">내용</th>
			<th>작성일</th>
			<th>IP</th>
		</tr>
		<th:block th:if="${pv.totalCount==0}">
			<tr>
				<td colspan="5" class="sub_title" style="text-align: center;"> 등록된 글이 없습니다.</td>
			</tr>
		</th:block>
		<th:block th:if="${pv.totalCount>0}">
			<tr th:each="vo, vs : ${pv.list}">
				<td>[[${pv.totalCount - (pv.currentPage-1)*pv.sizeOfPage - vs.index}]]</td>
				<td>[[${vo.subject}]]</td>
				<td style="text-align: left;">
					[(${vo.content})]
					<input type="button" value="수정" th:onclick="updateForm([[${vo.idx}]])" class="btn btn-sm btn-outline-danger" />
					<input type="button" value="삭제" th:onclick="deleteForm([[${vo.idx}]])" class="btn btn-sm btn-outline-danger" />					
				</td>
				<td></td>
				<td></td>
			</tr>
		</th:block>
		<tr>
			<td colspan="5" class="sub_title" style="text-align: left;">
				<a href="/upload" class="btn btn-sm btn-outline-danger">글 쓰 기</a>
			</td>
		</tr>		
	</table>
</body>
</html>